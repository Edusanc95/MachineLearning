Adding features basing on the correlation between the features and the total cases ups the error by little. The relevancies from the regressors seems to give better results.
In Iquitos with k=99 I got a 25.8317 and with k=241 I got 25.8702, even thou the CV test said it was better to take it. I also got a 25.8413 but adding 'reanalysis_dew_point_temp_k' in Iquitos, with k=99.

Important article about forests.
https://www.researchgate.net/post/How_to_determine_the_number_of_trees_to_be_generated_in_Random_Forest_algorithm

SJ with RF and no KNN Depth=2 Estimators=4 we got 27.3606. I believe that RF or DT with low depth are not a good regression method, mainly because is too generic and the error increases too much. If we turn up the depth,
in this particular case, we get way too much overfitting that turns up to be even worse. Maybe the problem was the CV test on this particular case.

SJ with NB (And Gaussian NB) we obtained 30.0577, the worst result so far. This makes sense since our data is not in a normal distribution.

For science I submitted with BernoulliNB and we got a 35.0625, which makes sense because of how this method works, since it only estimates if an event occured or not. Is not good for regression. In this case, 
it only predicted 3 and 6 for total_cases, which is obviously wrong.

Naive Bayes turned out to be a disaster, which again makes a lot of sense since is not a good algorithm for making regression.

A CV test for RF doesn't make sense, so we are going to study them with various depths doing our own MAE tests.

The best result we got was with RF with max_depth 3 in Iquitos and max_depth 5 in San Juan with a 25.2572. Note we didn't take into account station_avg_temp_c for Iquitos in this case. 

We came back to the feature selection done in task 5, mainly adding "dew_point" to Iquitos, and making that the RF chooses automatically the depth and with 10000 trees. We obtained a 26.2212, a much worse error.
We imagine this happened because for this problem having too many trees and not a specific depth. We came back to 3 for depth for Iq and 5 depth for SJ and also dropped up to 1000 estimators, for this we got a 25.3005
a very similar error to our first one. We upped the depth of Iquitos to 5 and got a 25.3413.
From this conclusion we can now affirm that the cases in Iquitos have less outliers and the "curve" is smoother and the overfitting is way worse than in San Juan.

Now that we get enough results, we made an effort to create a model to check the error in our machine, without having to upload it to the drivendata webpage and wasting a daily try.
We did this by dividing the training data that we have into test and training randomly. That way we can see if our own error measurement is accurate and try a brute force method and get the depths for each city that way.

IQ K=99 KNN weight=uniform weekofyear reanalysis_specific_humidity_g_per_kg station_avg_temp_c
SJ K=22 KNN weight=uniform weekofyear ndvi_nw reanalysis_dew_point_temp_k reanalysis_specific_humidity_g_per_kg station_min_temp_c 
· DD MAE 25.8317
· Our MAE XX.XXXX

IQ K=241 KNN weight=uniform weekofyear reanalysis_specific_humidity_g_per_kg station_avg_temp_c
SJ K=22 KNN weight=uniform weekofyear ndvi_nw reanalysis_dew_point_temp_k reanalysis_specific_humidity_g_per_kg station_min_temp_c 
· DD MAE 25.8702
· Our MAE XX.XXXX

IQ K=99 KNN weight=uniform weekofyear reanalysis_specific_humidity_g_per_kg station_avg_temp_c reanalysis_dew_point_temp_k
SJ K=22 KNN weight=uniform weekofyear ndvi_nw reanalysis_dew_point_temp_k reanalysis_specific_humidity_g_per_kg station_min_temp_c 
· DD MAE 25.8413
· Our MAE XX.XXXX

IQ K=99 KNN weight=uniform weekofyear reanalysis_specific_humidity_g_per_kg station_avg_temp_c
SJ Depth=2 Estimators=4 weekofyear ndvi_nw reanalysis_dew_point_temp_k reanalysis_specific_humidity_g_per_kg station_min_temp_c 
· DD MAE 27.3606
· Our MAE XX.XXXX

IQ Depth=2 Estimators=4 weekofyear reanalysis_specific_humidity_g_per_kg station_avg_temp_c
SJ Depth=2 Estimators=4 weekofyear ndvi_nw reanalysis_dew_point_temp_k reanalysis_specific_humidity_g_per_kg station_min_temp_c 
· DD MAE 27.1683
· Our MAE XX.XXXX

IQ Depth=3 Estimators=1000 weekofyear reanalysis_specific_humidity_g_per_kg 
SJ Depth=5 Estimators=1000 weekofyear ndvi_nw reanalysis_dew_point_temp_k reanalysis_specific_humidity_g_per_kg station_min_temp_c 
· DD MAE 25.2572
· Our MAE XX.XXXX